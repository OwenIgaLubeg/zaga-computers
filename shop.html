<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zaga technologies</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/v4-shims.css">

    <style>
        .product img{
            width: 100%;
            height: auto;
            box-sizing: border-box;
            object-fit: cover;
        }

        #featured > div.row.mx-auto.container > nav > ul > li.page-item.active > a{
            background-color: black;
        }

        #featured > div.row.mx-auto.container > nav > ul > li:nth-child(n):hover>a{
            color: #fff;
            background-color: coral;
        }

        .pagination a{
            color: #000;
        }
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white py-3 fixed-top">
    <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="index.html">
            <img src="./img/zaga-logo.jpg" alt="ZAGA Technologies Logo" style="height: 40px; width: auto; margin-right: 8px;">
            <!--<span>ZAGA-TECHNOLOGIES</span>-->
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span><i id="bar" class="fas fa-bars"></i></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">

                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="shop.html">Our Store</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="about.html">About Us</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="contact.html">Contact Us</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="admin-dashboard.html">Dashboard</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="login.html">Sign-In/Up</a>
                </li>

                <li class="nav-item d-flex align-items-center">
                    <!-- Search Form -->
                    <!--<form id="searchForm" action="search.html" method="get" class="search-bar">
                        <input type="text" name="query" placeholder="Search for a product..." required>
                        <button type="submit"><i class="fas fa-search"></i></button>
                    </form>-->

                    <!-- Shopping Cart Icon -->
                    <a href="cart.html" class="cart-link ms-2" title="View Cart">
                        <i class="fas fa-shopping-bag"></i>
                    </a>
                </li>

            </ul>
        </div>
    </div>
</nav>

<!-- Shop Section -->
<section id="featured" class="my-5 py-5">
    <div class="container mt-5 py-5">
        <h2 class="font-weight-bold text-center mb-3">Our Store</h2>
        <hr class="w-25 mx-auto">
        <p class="text-center text-muted mb-5">Shop from our latest collection of top-quality products.</p>

        <div id="productList" class="row mx-auto container g-4">
            <!-- Products will load here dynamically -->
        </div>

        <!-- Pagination (Optional for later) -->
        <nav aria-label="Product pages" class="d-flex justify-content-center mt-5">
            <ul class="pagination">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">Previous</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>
    </div>
</section>

<!-- Script for Dynamic Product Rendering -->

    <!-- Firebase Integration & Product Fetch -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, collection, getDocs, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  // Firebase Configuration (already working)
  const firebaseConfig = {
    apiKey: "AIzaSyDTKJ5WuSPBbIwVXKjsL2h_4K360qIJzb8",
    authDomain: "zaga-tech-store.firebaseapp.com",
    projectId: "zaga-tech-store",
    storageBucket: "zaga-tech-store.firebasestorage.app",
    messagingSenderId: "402026502827",
    appId: "1:402026502827:web:664170cc19966073f435ee",
    measurementId: "G-NN99SC43XX"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const productList = document.getElementById("productList");

  //  Render Products
  function displayProducts(products) {
    productList.innerHTML = "";
    if (products.length === 0) {
      productList.innerHTML = `<p class="text-center text-muted w-100">No products available yet.</p>`;
      return;
    }

    products.forEach(p => {
      const card = document.createElement("div");
      card.className = "product text-center col-lg-3 col-md-4 col-12";
      card.innerHTML = `
        <div class="product-card shadow-sm p-3 bg-white rounded" onclick="viewProduct('${p.id}')">
          <img class="img-fluid mb-3 rounded" src="${p.imageURL || 'img/default-product.jpg'}" alt="${p.name}">
          <div class="star text-warning mb-2">
            ${'<i class="fas fa-star"></i>'.repeat(5)}
          </div>
          <h5 class="p-name">${p.name}</h5>
          <h4 class="p-price">${p.price}</h4>
          <button class="btn btn-primary mt-2">View Product</button>
        </div>
      `;
      productList.appendChild(card);
    });
  }

  // View Product Redirect
  window.viewProduct = (id) => {
    localStorage.setItem("selectedProductId", id);
    window.location.href = `sproduct.html?id=${id}`;
  };

  //  Real-time Listener for Firestore
  const productsRef = collection(db, "products");
  onSnapshot(productsRef, snapshot => {
    const products = snapshot.docs.map(doc => ({
      id: doc.id,
      ...doc.data()
    }));
    displayProducts(products);
  });
</script>

<!-- Styling for a better look -->
<style>
    #featured h2 {
      color: #0d6efd;
      font-weight: 700;
      letter-spacing: 0.5px;
    }

    .product-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border-radius: 12px;
    }

    .product-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }

    .product-card img {
      height: 250px;
      object-fit: cover;
    }

    .p-price {
      color: #198754;
      font-weight: bold;
    }

    .btn-primary {
      background-color: #0d6efd;
      border: none;
      border-radius: 20px;
      padding: 6px 18px;
    }

    .btn-primary:hover {
      background-color: #0b5ed7;
    }
</style>

<footer class="mt-5 py-5">
    <div class="row container mx-auto pb-5">
        <div class="footer-one col-lg-3 col-md-6 col-12">
            <h5>ZAGA-Technologies</h5>
            <p class="pt-3">ZAGA-Technologies is one of Uganda’s leading independent retailers of laptops, printers
                and Desktops Computers. We stock hundreds of products from the big brands like lenovo, Hp, Dell and
                Microsoft all at the best prices.</p>
        </div>
        <div class="footer-one col-lg-3 col-md-6 col-12 mb-3">
            <h5 class="pb-2">Quik links</h5>
            <ul class="text-uppercase list-unstyled">
                <li><a href="shop.html">Our store</a></li>
                <li><a href="cart.html">Cart</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="admin-dashboard.html">dashboard</a></li>
                <li><a href="contact.html">Contact Us</a></li>

            </ul>
        </div>
        <div class="footer-one col-lg-3 col-md-6 col-12 mb-3">
            <h5 class="pb-2">Contact Us</h5>
            <div>
                <h6 class="text-uppercase">Address</h6>
                <p>Kabaka kintu House Level- 1 shop No: C-03</p>
                <p>opp king Fahad plaza - Kampala rd.</p>
            </div>
            <div>
                <h6 class="text-uppercase">Phone</h6>
                <p>+256 700706809</p>
            </div>
            <div>
                <h6 class="text-uppercase">Email</h6>
                <p>sales2.zagatechnologiesltd@gmail.com</p>
            </div>
        </div>
        <div class="footer-one col-lg-3 col-md-6 col-12">
            <h5 class="pb-2">Brand Partners</h5>
            <div class="row">
                <img class="img-fluid w-25 h-100 m-2"src="img/brand/apple.png" alt="">
                <img class="img-fluid w-25 h-100 m-2"src="img/brand/samsung.png" alt="">
                <img class="img-fluid w-25 h-100 m-2"src="img/brand/hp%20logo.png" alt="">
                <img class="img-fluid w-25 h-100 m-2"src="img/brand/dell.png" alt="">
                <img class="img-fluid w-25 h-100 m-2"src="img/brand/lenovo.png" alt="">
            </div>
        </div>
    </div>

    <div class="copyright mt-5">
        <div class="row container mx-auto">
            <div class="col-lg-3 col-md-6 col-12 mb-4">
                <img src="img/payment.png" alt="">
            </div>
            <div class="col-lg-4 col-md-6 col-12 text-nowrap mb-2">
                <p>Zaga Technologies © 2025. All Rights Reserved </p>
            </div>
            <div class="col-lg-4 col-md-6 col-12">
                <a href=""><i class="fab fa-facebook-f"></i></a>
                <a href=""><i class="fab fa-instagram"></i></a>
                <a href=""><i class="fab fa-tiktok"></i></a>
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script type="module" src="./js/firebase-config.js"></script>

</body>
</html>